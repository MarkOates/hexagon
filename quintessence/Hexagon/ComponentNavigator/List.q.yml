properties:
  - name: project_root_directory
    type: std::string
    default: "/Users/markoates/Repos/hexagon"
    constructor_arg: true
functions:
  - name: components
    type: std::vector<std::string>
    body: |
      std::vector<std::string> result = {};

      std::string find_command = "find quintessence -type f -name \"*.q.yml\"";
      Blast::ShellCommandExecutorWithCallback executor(find_command);
      std::string executor_response = executor.execute();

      Blast::StringSplitter splitter(executor_response, '\n');
      std::vector<std::string> quintessence_filenames = splitter.split();

      for (auto &item : quintessence_filenames)
      {
        NcursesArt::ProjectComponentBasenameExtractor extractor(item);
        result.push_back(extractor.identify_component_basename());
      }

      return result;
    body_dependency_symbols:
      - std::vector<std::string>
      - Blast::ShellCommandExecutorWithCallback
      - NcursesArt::ProjectComponentBasenameExtractor
      - Blast::StringSplitter
dependencies:
  - symbol: std::vector<std::string>
    headers: [ 'vector', 'string' ]
  - symbol: Blast::ShellCommandExecutorWithCallback
    headers: [ 'Blast/ShellCommandExecutorWithCallback.hpp' ]
  - symbol: Blast::StringSplitter
    headers: [ 'Blast/StringSplitter.hpp' ]
  - symbol: NcursesArt::ProjectComponentBasenameExtractor
    headers: [ 'NcursesArt/ProjectComponentBasenameExtractor.hpp' ]
