properties:


  - name: text_mesh
    type: Hexagon::Elements::TextMesh*
    init_with: nullptr
    constructor_arg: true
  - name: fonted_text_grid
    type: Hexagon::Elements::FontedTextGrid*
    init_with: '{}'
    constructor_arg: true
  - name: cursor
    type: Hexagon::AdvancedCodeEditor::Cursor*
    init_with: nullptr
    constructor_arg: true
  - name: width
    type: float
    init_with: 1
    constructor_arg: true
  - name: height
    type: float
    init_with: 1
    constructor_arg: true
  - name: cursor_is_bar
    type: bool
    init_with: false
    constructor_arg: true


functions:


  - name: render
    guards: [ text_mesh, fonted_text_grid ]
    type: void
    body: |
      // draw the window
      Hexagon::AdvancedCodeEditor::WindowRenderer(
         width,
         height
      ).render();

      // draw the mesh
      text_mesh->render();
      fonted_text_grid->draw();

      // draw the cursor
      render_cursor();

      return;
    body_dependency_symbols:
      - Hexagon::AdvancedCodeEditor::WindowRenderer


  - name: render_cursor
    type: void
    guards: [ text_mesh, cursor, al_is_primitives_addon_initialized() ]
    body: |
      float cursor_x = cursor->get_x() * text_mesh->get_cell_width();
      float cursor_y = cursor->get_y() * text_mesh->get_cell_height();
      ALLEGRO_COLOR cursor_color = ALLEGRO_COLOR{0.0f, 1.0f, 1.0f, 1.0f};

      if (cursor_is_bar)
      {
         // draw the cursor
         al_draw_line(
            cursor_x,
            cursor_y,
            cursor_x,
            cursor_y+cursor->get_height(),
            cursor_color,
            2.0f
            );
      }
      else
      {
         // draw the cursor
         al_draw_rectangle(
            cursor_x,
            cursor_y,
            cursor_x+cursor->get_width(),
            cursor_y+cursor->get_height(),
            cursor_color,
            2.0f
            );
      }
      return;


dependencies:


  - symbol: Hexagon::Elements::TextMesh*
    headers: [ Hexagon/Elements/TextMesh.hpp ]
  - symbol: Hexagon::Elements::FontedTextGrid*
    headers: [ Hexagon/Elements/FontedTextGrid.hpp ]
  - symbol: Hexagon::AdvancedCodeEditor::WindowRenderer
    headers: [ Hexagon/AdvancedCodeEditor/WindowRenderer.hpp ]
  - symbol: Hexagon::AdvancedCodeEditor::Cursor*
    headers: [ Hexagon/AdvancedCodeEditor/Cursor.hpp ]
