properties:
  - name: font
    type: ALLEGRO_FONT*
    init_with: nullptr
    constructor_arg: true
  - name: font_color
    type: ALLEGRO_COLOR*
    init_with: nullptr
    constructor_arg: true
  - name: x
    type: float
    init_with: 0.0f
    constructor_arg: true
  - name: y
    type: float
    init_with: 0.0f
    constructor_arg: true
  - name: line
    constructor_arg: true
functions:
  - name: render
    type: void
    body: |
      if (!font)
      {
         std::stringstream error_message;
         error_message << "[Hexagon/Powerbar/Renderer/AdvancedLineRenderer error:] cannot \""
                       << __FUNCTION__ << "\" with a nullptr font";
         throw std::runtime_error(error_message.str());
      }
      if (!font_color)
      {
         std::stringstream error_message;
         error_message << "[Hexagon/Powerbar/Renderer/AdvancedLineRenderer error:] cannot \""
                       << __FUNCTION__ << "\" with a nullptr font_color";
         throw std::runtime_error(error_message.str());
      }

      std::size_t comment_starts_at = line.find("//");
      //std::string uncommented
      //float character_width = al_get_text_width(

      std::vector<std::pair<std::string, ALLEGRO_COLOR>> tokens;

      tokens = { { line, *font_color } };

      for (auto &token : tokens)
      {
         std::string &text = std::get<0>(token);
         ALLEGRO_COLOR &color = std::get<1>(token);

         al_draw_text(font, *font_color, x, y, ALLEGRO_ALIGN_LEFT, text.c_str());
      }
    body_dependency_symbols:
      - std::stringstream
      - al_draw_text
      - al_color_name
      - std::get
      - ALLEGRO_ALIGN_LEFT
      - std::vector<std::pair<std::string, ALLEGRO_COLOR>>
dependencies:
  - symbol: std::get
    headers: [ utility ]
  - symbol: std::vector<std::pair<std::string, ALLEGRO_COLOR>>
    headers: [ vector, utility, string, allegro5/allegro_color.h ]
  - symbol: al_draw_text
    headers: [ allegro5/allegro.h ]
  - symbol: al_color_name
    headers: [ allegro5/allegro_color.h ]
  - symbol: ALLEGRO_ALIGN_LEFT
    headers: [ allegro5/allegro.h ]
  - symbol: ALLEGRO_FONT*
    headers: [ allegro5/allegro_font.h ]
  - symbol: ALLEGRO_COLOR*
    headers: [ allegro5/allegro.h ]
