properties:


  - name: dirty_cells
    type: std::set<std::pair<int, int>>
    init_with: '{}'
    getter_ref: true


functions:


  - name: mark_as_dirty
    parameters:
      - name: x
        type: int
        default_argument: 0
      - name: y
        type: int
        default_argument: 0
    body: |
      dirty_cells.insert(std::pair<int, int>{x, y});
      return;


  - name: build_vector
    type: std::vector<std::pair<int, int>>
    body: |
      std::vector<std::pair<int, int>> result;
      result.reserve(dirty_cells.size());
      for (auto it=dirty_cells.begin(); it!=dirty_cells.end(); )
      {
         result.push_back(std::move(dirty_cells.extract(it++).value()));
      }
      return result;
    body_dependency_symbols:
      - std::vector<std::pair<int, int>>


  - name: clear
    body: |
      dirty_cells.clear();
      return;


dependencies:


  - symbol: std::set<std::pair<int, int>>
    headers: [ set, utility ]
  - symbol: std::vector<std::pair<int, int>>
    headers: [ vector, utility ]

