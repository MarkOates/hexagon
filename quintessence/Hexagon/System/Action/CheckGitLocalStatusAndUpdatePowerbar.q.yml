parent_classes:

  - class: ::Action
    scope: public
    init_with: '"Hexagon::System::Action::CheckGitLocalStatusAndUpdatePowerbar", ActionData()'

properties:

  - name: powerbar
    type: Hexagon::Powerbar::Powerbar*
    init_with: nullptr
    constructor_arg: true

functions:

  - name: execute
    type: bool
    override: true
    guards: [ powerbar ]
    body: |
      Hexagon::Git::Modified modified;
      std::string modified_files = modified.get_shell_response();

      Hexagon::Git::Untracked untracked;
      std::string untracked_files = untracked.get_shell_response();

      Hexagon::Git::Staged staged;
      std::string staged_files = staged.get_shell_response();

      return true;
    body_dependency_symbols:
    - Hexagon::Git::Modified
    - Hexagon::Git::Untracked
    - Hexagon::Git::Staged

dependencies:

  - symbol: Hexagon::Powerbar::Powerbar*
    headers: [ Hexagon/Powerbar/Powerbar.hpp ]
  - symbol: Hexagon::Git::Modified
    headers: [ Hexagon/Git/Modified.hpp ]
  - symbol: Hexagon::Git::Untracked
    headers: [ Hexagon/Git/Untracked.hpp ]
  - symbol: Hexagon::Git::Staged
    headers: [ Hexagon/Git/Staged.hpp ]
  - symbol: ::Action
    headers: [ Hexagon/Action.hpp ]

