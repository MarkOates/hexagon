properties:


  - name: grid
    type: std::vector<std::vector<std::tuple<char, ALLEGRO_COLOR, ALLEGRO_COLOR>>>&
    init_with: 'get_dummy_grid_ref()'
  - name: dummy_grid
    static: true
    type: std::vector<std::vector<std::tuple<char, ALLEGRO_COLOR, ALLEGRO_COLOR>>>
    init_with: '{}'
    getter_ref: true
  - name: vertexes
    type: std::vector<ALLEGRO_VERTEX>
    init_with: '{}'
  - name: width
    type: int
    init_with: 0
    getter: true
  - name: height
    type: int
    init_with: 0
    getter: true


functions:


  - name: resize
    type: bool
    properties:
      - name: width
        type: int
        default_argument: 0
      - name: height
        type: int
        default_argument: 0
    body: |
      vertexes.clear();
      vertexes.resize(width*height*6); // 6 vertexes per rectangle


  - name: render
    type: void
    guards: [ al_is_system_installed() ]
    body: |
      ALLEGRO_BITMAP *tile_atlas_bitmap = nullptr;
      al_draw_prim(&vertexes[0], NULL, tile_atlas_bitmap, 0, vertexes.size(), ALLEGRO_PRIM_TRIANGLE_LIST);
      return;
    body_dependency_symbols:
      - ALLEGRO_BITMAP*


dependencies:


  - symbol: ALLEGRO_BITMAP*
    headers: [ allegro5/allegro.h ]
  - symbol: std::vector<ALLEGRO_VERTEX>
    headers: [ vector, allegro5/allegro_primitives.h ]
  - symbol: std::vector<std::vector<std::tuple<char, ALLEGRO_COLOR, ALLEGRO_COLOR>>>&
    headers: [ vector, tuple, allegro5/allegro.h ]
  - symbol: std::vector<std::vector<std::tuple<char, ALLEGRO_COLOR, ALLEGRO_COLOR>>>
    headers: [ vector, tuple, allegro5/allegro.h ]
