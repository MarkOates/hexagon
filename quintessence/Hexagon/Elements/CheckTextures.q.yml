properties:
  - name: display
    type: ALLEGRO_DISPLAY*
    init_with: nullptr
    constructor_arg: true
functions:
  - name: validate_al_init
    type: void
    parameters:
      - name: function_name
        type: std::string
        default_argument: "\"[unmamed_function]\""
    body: |
      if (!al_is_system_installed())
      {
         std::stringstream error_message;
         error_message << "[Hexagon/Elements/CheckTextures error:] cannot \"" << function_name << "\" before al_init()";
         throw std::runtime_error(error_message.str());
      }
      return;
    body_dependency_symbols:
      - std::stringstream
  - name: validate_display
    type: void
    parameters:
      - name: function_name
        type: std::string
        default_argument: "\"[unmamed_function]\""
    body: |
      if (!display)
      {
         std::stringstream error_message;
         error_message << "[Hexagon/Elements/CheckTextures error:] cannot \""
                       << function_name
                       << "\" with a nullptr display";
         throw std::runtime_error(error_message.str());
      }
      return;
    body_dependency_symbols:
      - std::stringstream
  - name: generate_grid_check
    type: ALLEGRO_BITMAP*
    body: |
      validate_al_init(__FUNCTION__);
      validate_display(__FUNCTION__);

      ALLEGRO_BITMAP *result = al_create_bitmap(400, 300);

      return result;
dependencies:
  - symbol: ALLEGRO_BITMAP*
    headers: [ allegro5/allegro.h ]
  - symbol: ALLEGRO_DISPLAY*
    headers: [ allegro5/allegro.h ]
