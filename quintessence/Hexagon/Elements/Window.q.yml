properties:


  - name: width
    type: float
    init_with: 0.0f
    setter: true
    constructor_arg: true
  - name: height
    type: float
    init_with: 0.0f
    setter: true
    constructor_arg: true
  - name: box_opacity
    type: float
    init_with: 0.0f
    setter: true
    constructor_arg: true
  - name: cell_padding
    type: float
    init_with: 0.0f
    setter: true
    constructor_arg: true
  - name: box_fill_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
    constructor_arg: true
  - name: header_bar_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: bottom_line_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: outer_line_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: header_baseline_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: top_left_little_bar_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: corner_squares_color
    type: ALLEGRO_COLOR
    init_with: '{0.0f, 0.0f, 0.0f, 0.0f}'
    setter: true
  - name: header_bar_height
    type: float
    init_with: 0.0f
    setter: true
  - name: header_baseline_thickness
    type: float
    init_with: 0.0f
    setter: true
  - name: header_bar_opacity
    type: float
    init_with: 0.0f
    setter: true
  - name: header_baseline_opacity
    type: float
    init_with: 0.0f
    setter: true
  - name: top_left_little_bar_width
    type: float
    init_with: 0.0f
    setter: true
  - name: outer_line_thickness
    type: float
    init_with: 0.0f
    setter: true
  - name: outer_line_opacity
    type: float
    init_with: 0.0f
    setter: true
  - name: bottom_line_thickness
    type: float
    init_with: 0.0f
    setter: true
  - name: bottom_line_opacity
    type: float
    init_with: 0.0f
    setter: true
  - name: corner_squares_resize_from_center
    type: bool
    init_with: false
    setter: true
  - name: corner_squares_width
    type: float
    init_with: 0.0f
    setter: true
  - name: corner_squares_height
    type: float
    init_with: 0.0f
    setter: true
  - name: corner_squares_opacity
    type: float
    init_with: 0.0f
    setter: true
  - name: corner_squares_are_circles
    type: bool
    init_with: false
    setter: true
  - name: number_of_rows
    type: int
    init_with: 1
    setter: true
  - name: number_of_columns
    type: int
    init_with: 1
    setter: true
  - name: distance_of_rows
    type: float
    init_with: 0.0f
    setter: true
  - name: distance_of_columns
    type: float
    init_with: 0.0f
    setter: true


functions:


  - name: draw
    type: void
    guards: [ al_is_system_installed() ]
    body: |
      // TODO: also need to check al_is_primitives_addon_initialized()
      ALLEGRO_COLOR final_box_fill_color = color::color(box_fill_color, box_opacity);
      al_draw_filled_rectangle(
         0+cell_padding,
         0+cell_padding,
         width-cell_padding,
         height-cell_padding,
         final_box_fill_color
      );

      ALLEGRO_COLOR final_outer_line_color = color::color(outer_line_color, outer_line_opacity);
      al_draw_rectangle(
        0,
        0,
        width,
        height,
        final_outer_line_color,
        outer_line_thickness
      );

      draw_header_bar();
      draw_corner_squares();

      return;
    body_dependency_symbols:
      - al_is_system_installed
      - al_draw_rectangle
      - al_color_name
      - color::color


  - name: draw_header_bar
    private: true
    body: |
      ALLEGRO_COLOR final_header_bar_color = color::color(header_bar_color, header_bar_opacity);
      al_draw_filled_rectangle(0, 0, width, header_bar_height, final_header_bar_color);
      return;


  - name: draw_corner_squares
    private: true
    body: |
      ALLEGRO_COLOR final_corner_squares_color = color::color(corner_squares_color, corner_squares_opacity);
      float x_offset = corner_squares_resize_from_center ? corner_squares_width * 0.5f : 0.0f;
      float y_offset = corner_squares_resize_from_center ? corner_squares_height * 0.5f : 0.0f;

      // top left
      al_draw_filled_rectangle(
         0 - x_offset,
         0 - y_offset,
         corner_squares_width - x_offset,
         corner_squares_height - y_offset,
         final_corner_squares_color
      );
      // top right
      al_draw_filled_rectangle(
         width - corner_squares_width + x_offset,
         0 - y_offset,
         width + x_offset,
         corner_squares_height - y_offset,
         final_corner_squares_color
      );
      // bottom left
      al_draw_filled_rectangle(
         0 - x_offset,
         height - corner_squares_height + y_offset,
         corner_squares_width - x_offset,
         height + y_offset,
         final_corner_squares_color
      );
      // bottom right
      al_draw_filled_rectangle(
         width - corner_squares_width + x_offset,
         height - corner_squares_height + y_offset,
         width + x_offset,
         height + y_offset,
         final_corner_squares_color
      );
      return;


dependencies:


  - symbol: ALLEGRO_COLOR
    headers: [ allegro5/allegro_color.h ]
  - symbol: al_is_system_installed
    headers: [ allegro5/allegro.h ]
  - symbol: al_draw_rectangle
    headers: [ allegro5/allegro_primitives.h ]
  - symbol: al_color_name
    headers: [ allegro5/allegro_color.h ]
  - symbol: color::color
    headers: [ allegro_flare/color.h ]
